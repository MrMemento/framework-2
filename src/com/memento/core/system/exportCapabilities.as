/** * Copyright 2011 by Barnabás Bucsy * * This file is part of The Memento Framework. * * The Memento Framework is free software: you can redistribute it * and/or modify it under the terms of the GNU Lesser General Public * License as published by the Free Software Foundation, either * version 3 of the License, or (at your option) any later version. * * The Memento Framework is distributed in the hope that it will be * useful, but WITHOUT ANY WARRANTY; without even the implied warranty * of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU * Lesser General Public License for more details. * * You should have received a copy of the GNU Lesser General Public * License along with The Memento Framework. If not, see * <http://www.gnu.org/licenses/>. */package com.memento.core.system{	import flash.system.Capabilities;	import com.memento.utils.ClassUtil;	/**	 * Capabilities exporter function for ActionScript 3.0.	 * @return Object An Object containing all properties of Capabilities Class.	 * @see flash.system.Capabilities	 * @author Barnabás Bucsy (Lobo)	 */	public function exportCapabilities( excludePattern_:RegExp = null ):Object	{		var props:Array      = ClassUtil.getStaticAccessorList( Capabilities );		var ret:Object       = { };		var PROTOTYPE:String = 'prototype';		var INTERNAL:String  = '_internal';		if ( excludePattern_ == null )		{			for each ( var prop:String in props )			{				if ( prop != PROTOTYPE && prop != INTERNAL )				{					ret[ prop ] = Capabilities[ prop ];				}			}		}		else		{			for each ( var prop:String in props )			{				if ( prop != PROTOTYPE && prop != INTERNAL && !excludePattern_.test( prop ) )				{					ret[ prop ] = Capabilities[ prop ];				}			}		}		return ret;	}}