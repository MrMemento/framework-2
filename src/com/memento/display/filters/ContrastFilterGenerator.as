/** * Copyright 2011 by Barnabás Bucsy * * This file is part of The Memento Framework. * * The Memento Framework is free software: you can redistribute it * and/or modify it under the terms of the GNU Lesser General Public * License as published by the Free Software Foundation, either * version 3 of the License, or (at your option) any later version. * * The Memento Framework is distributed in the hope that it will be * useful, but WITHOUT ANY WARRANTY; without even the implied warranty * of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU * Lesser General Public License for more details. * * You should have received a copy of the GNU Lesser General Public * License along with The Memento Framework. If not, see * <http://www.gnu.org/licenses/>. */package com.memento.display.filters{	import flash.filters.ColorMatrixFilter;	/**	 * Class to generate contrast adjustment filter to be used with DisplayObject or	 * BitmapData. Used ColorMatrixFilter class is final, so we can not extend it.	 * @author Barnabás Bucsy (Lobo)	 */	public class ContrastFilterGenerator	{		/**		 * Container for contrast ColorMatrixFilter.		 */		private var _filter:ColorMatrixFilter;		/**		 * Contrast amount.		 */		private var _contrast:Number;		/**		 * Constructor		 * @param contrast_ Number Amount of contrast correction.		 */		public function ContrastFilterGenerator( contrast_:Number = 0 ):void		{			_filter  = new ColorMatrixFilter( );			contrast = contrast_;		}		/**		 * Setter function for amount of contrast correction		 * @param contrast_ Number Amount of contrast correction.		 */		public function set contrast( contrast_:Number ):void		{			var a:Number = contrast_ +1;			var b:Number = 0x80 * ( 1 - a );        	_filter.matrix = [				a, 0, 0, 0, b,				0, a, 0, 0, b,				0, 0, a, 0, b,				0, 0, 0, 1, 0			];			_contrast = contrast_;		}		/**		 * @private		 * Getter function for amount of contrast correction.		 * @return Number Amount of contrast correction.		 */		public function get contrast( ):Number		{			return _contrast;		}		/**		 * Getter function for contrast ColorMatrixFilter instance.		 * @return The contrast ColorMatrixFilter instance.		 */		public function get filter( ):ColorMatrixFilter		{			return _filter;		}	}}